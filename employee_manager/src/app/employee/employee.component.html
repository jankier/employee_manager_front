<section class="employee__component">
  <div class="employee" [formGroup]="employeeForm">
    <div class="employee__title">
      <p>
        {{ employeeForm.controls.name.value | uppercase }}
        {{ employeeForm.controls.surname.value | uppercase }}
      </p>
    </div>
    <div class="employee__details">
      <div class="employee__row">
        <span class="employee__label">Id</span>
        <span>{{ employeeForm.controls.id.value }}</span>
      </div>
      <div class="employee__column">
        <label class="employee__label">Name</label>
        <input class="employee__details-input" [formControl]="employeeForm.controls.name" placeholder="Name" maxlength="20" />
        @if (employeeForm.controls.name.hasError('required') && !employeeForm.controls.name.untouched) {
          <span class="employee__error-message">Name is required!</span>
        } @else if (employeeForm.controls.name.hasError('minlength')) {
          <span class="employee__error-message">Name too short!</span>
        } @else if (employeeForm.controls.name.hasError('maxlength')) {
          <span class="employee__error-message">Name too long!</span>
        }
      </div>
      <div class="employee__column">
        <label class="employee__label">Surname</label>
        <input class="employee__details-input" [formControl]="employeeForm.controls.surname" placeholder="Surname" maxlength="20" />
        @if (employeeForm.controls.surname.hasError('required') && !employeeForm.controls.surname.untouched) {
          <span class="employee__error-message">Surname is required!</span>
        } @else if (employeeForm.controls.surname.hasError('minlength')) {
          <span class="employee__error-message">Surname too short!</span>
        } @else if (employeeForm.controls.surname.hasError('maxlength')) {
          <span class="employee__error-message">Surname too long!</span>
        }
      </div>
      <div class="employee__column">
        <label class="employee__label">Date of employment</label>
        <input type="date" class="employee__details-input" [formControl]="employeeForm.controls.employment_date" />
        @if (employeeForm.controls.employment_date.hasError('required') && !employeeForm.controls.employment_date.untouched) {
          <span class="employee__error-message">Date is required!</span>
        } @else if (employeeForm.controls.employment_date.hasError('pattern')) {
          <span class="employee__error-message">Incorrect date format!</span>
        }
      </div>
      <div class="employee__row">
        <span class="employee__label">Skills</span>
        <app-dropdown [listElements]="skillList" (selectedElement)="addSkill($event)"></app-dropdown>
        @for (skill of employeeForm.controls.skills.value; track skill) {
          <app-skill [skill]="skill" (selectedSkill)="deleteSkill($event)"></app-skill>
        }
      </div>
      <div class="employee__row">
        <span class="employee__label">Projects</span>
        <app-dropdown [listElements]="projectList" (selectedElement)="addProject($event)"></app-dropdown>
        @for (project of employeeForm.controls.projects.value; track project) {
          <app-project [project]="project" (selectedProject)="deleteProject($event)"></app-project>
        }
      </div>
      <div class="employee__column">
        <label class="employee__label">Manager</label>
        <input class="employee__details-input" [formControl]="employeeForm.controls.manager" placeholder="Manager" maxlength="40" />
        @if (employeeForm.controls.manager.hasError('required') && !employeeForm.controls.manager.untouched) {
          <span class="employee__error-message">Manager is required!</span>
        } @else if (employeeForm.controls.manager.hasError('minlength')) {
          <span class="employee__error-message">Manager too short!</span>
        } @else if (employeeForm.controls.manager.hasError('maxlength')) {
          <span class="employee__error-message">Manager too long!</span>
        }
      </div>
    </div>
    <button type="submit" class="employee__button" (click)="onSubmit()" [disabled]="employeeForm.invalid">Save</button>
  </div>
</section>
